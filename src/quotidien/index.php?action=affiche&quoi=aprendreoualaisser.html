<!doctype html><html lang="fr"><head><meta charset="utf-8"><script async src="https://tags.refinery89.com/v2/bibmathnet.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-CTYE0T3DYG"></script><script>window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'G-CTYE0T3DYG');</script>
<meta name="Author" CONTENT="Fred Bayart"><meta name="Description" CONTENT="Mathématiques du quotidien"><meta name="viewport" content="width=device-width, initial-scale=1"><title>A prendre ou à laisser! Trouver la stratégie optimale!</title><link type="text/css" href="../css/bibstyle.css" rel="stylesheet" /><script type='text/x-mathjax-config'>
MathJax.Hub.Config({  tex2jax: {inlineMath: [ ['$','$'], ['\\(','\\)'] ] }, CommonHTML: {
scale: 90
} }); </script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script><script type="text/javascript" src="../common/fonctions.js"></script><link rel="icon" type="image/png" href="../img/icone.png"></head><body>	<div style="display:none">$$\newcommand{\mtn}{\mathbb{N}}\newcommand{\mtns}{\mathbb{N}^*}\newcommand{\mtz}{\mathbb{Z}}\newcommand{\mtr}{\mathbb{R}}\newcommand{\mtk}{\mathbb{K}}\newcommand{\mtq}{\mathbb{Q}}\newcommand{\mtc}{\mathbb{C}}\newcommand{\mch}{\mathcal{H}}\newcommand{\mcp}{\mathcal{P}}\newcommand{\mcb}{\mathcal{B}}\newcommand{\mcl}{\mathcal{L}}
\newcommand{\mcm}{\mathcal{M}}\newcommand{\mcc}{\mathcal{C}}
\newcommand{\mcmn}{\mathcal{M}}\newcommand{\mcmnr}{\mathcal{M}_n(\mtr)}
\newcommand{\mcmnk}{\mathcal{M}_n(\mtk)}\newcommand{\mcsn}{\mathcal{S}_n}
\newcommand{\mcs}{\mathcal{S}}\newcommand{\mcd}{\mathcal{D}}
\newcommand{\mcsns}{\mathcal{S}_n^{++}}\newcommand{\glnk}{GL_n(\mtk)}
\newcommand{\mnr}{\mathcal{M}_n(\mtr)}\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\sh}{sh}\DeclareMathOperator{\th}{th}
\DeclareMathOperator{\vect}{vect}\DeclareMathOperator{\card}{card}
\DeclareMathOperator{\comat}{comat}\DeclareMathOperator{\imv}{Im}
\DeclareMathOperator{\rang}{rg}\DeclareMathOperator{\Fr}{Fr}
\DeclareMathOperator{\diam}{diam}\DeclareMathOperator{\supp}{supp}
\newcommand{\veps}{\varepsilon}\newcommand{\mcu}{\mathcal{U}}
\newcommand{\mcun}{\mcu_n}\newcommand{\dis}{\displaystyle}
\newcommand{\croouv}{[\![}\newcommand{\crofer}{]\!]}
\newcommand{\rab}{\mathcal{R}(a,b)}\newcommand{\pss}[2]{\langle #1,#2\rangle}
$$</div><header id="bandeau"><div id="bandeaucentre"><a href="../index.php.html" id=bandeaulogo>Bibm@th.net</a><span id=bandeaumilieu><a href="https://www.youtube.com/channel/UCP-LXgvAe7CMdf_dddUcLmw" alt="Visiter notre chaine YouTube" title="Visiter notre chaine YouTube"><img src="../img/youtube.png" /></a><a href="https://www.instagram.com/bibmath/" alt="Visiter notre compte Instagram" title="Visiter notre compte Instagram"><img src="../img/instagram.png" /></a><span class="theme-btn" alt="Modifier le thème d'affichage" title="Modifier le thème d'affichage"><img src="../img/mode-sombre.png" /></span>
			</span><form id="formrech" name="recherche" action="https://www.bibmath.net/recherche.php"  method="get"><div id=bandeaurecherche>
	<input name="q" placeholder="Rechercher sur le site..." class="formulairerecherche inputrecherche" />
	<button class="formulairerecherche boutonrecherche" value="" title="Rechercher"> 
	<img src="https://www.bibmath.net//img/recherche.png" height=30px>
	</button></div></form></div></header><header id="bandeaumobile"><div class="sousbandeaumobile"><span class="itembandeaumobile" id="iconeouvremenu"><a href="javascript:ouvremenumobile()"><img src="../img/menumobile.png" /></a></span><span class="itembandeaumobilefondnoir" id="iconefermemenu"><a href="javascript:fermemenumobile()"><img src="../img/deletemobile.png"></a></span><a href="../index.php.html" class="itembandeaumobile">Bibm@th</a></div><div class="sousbandeaumobile"><span class="itembandeaumobile"><a href="https://www.bibmath.net/forums/index.php" title="Accéder au forum du site"><img src="../img/forumgrand.png" /></a></span><span class="itembandeaumobilesansbordure"><span class="theme-btn" alt="Modifier le thème d'affichage" title="Modifier le thème d'affichage"><img src="../img/mode-sombre-mobile.png" /></a></span><span class="itembandeaumobilesansbordure"><a href="../forums/login.php.html" alt="Consulter mon compte" title="Vous n'êtes pas identifié. Identifiez-vous."><img src="../img/moncomptemobile.png" /></a></span><span class="itembandeaumobile"  id="iconeouvrerecherche"><a href="javascript:ouvrerecherchemobile()"><img src="../img/loupemobile.png" /></a></span><span class="itembandeaumobilefondnoir" id="iconefermerecherche"><a href="javascript:fermerecherchemobile()"><img src="../img/deletemobile.png"></a></span></div></header><div id="recherchemobile"><form id="formrecherchemobile" name="recherche" action="https://www.bibmath.net/recherche.php"  method="get"><div class="divinputrecherche"><input name="q" placeholder="Rechercher sur le site..." class="formulairerecherche inputrecherche" /></div><div class="divboutonmobile"><button class="formulairerecherche boutonrecherche" value="" title="Rechercher"> </button></div></form></div><div id="menuetsousmenu"><nav id="menuhaut"><div id="menuhautcentre"><div id="menuhautgauche"><section id="listemenuhaut"><span id="menu0" class="item"><a href="../index.php.html"><img src="../img/maison.png" />Accueil</a></span><span id="menu1" class="item"><a href="javascript:affiche_sousmenu(1);"><img src="../img/lycee16.png" />Lycée</a></span><span id="menu2" class="item"><a href="javascript:affiche_sousmenu(2);"><img src="../img/ressources.png" />Supérieur</a></span><span id="menu3" class="item"><a href="javascript:affiche_sousmenu(3);"><img src="../img/bibliotheques.png" />Bibliothèques</a></span><span id="menu4" class="item"><a href="javascript:affiche_sousmenu(4);"><img src="../img/references.png" />Références</a></span><span id="menu5" class="itemselectionne"><a href="javascript:affiche_sousmenu(5);"><img src="../img/themes.png" />Thèmes</a></span><span id="menu6" class="item"><a href="https://www.bibmath.net/forums/index.php"><img src="../img/forum.png" />Forum</a></span></section></div><div id="menuhautdroite"><section id="listemenuhaut"><span id="menu7" class="item"><a href="../ressources/moncompte.php.html"><img src="../img/profil.png" />Mon compte</a></span><span id="menu8" class="item"><a href="https://fr.tipeee.com/bibmath"><img src="../img/coeur.png" />Faire un don</a></span></section></div></div></nav><nav id="sousmenuhaut"><div id="sousmenuhautcentre"><section id="listesousmenuhaut"><div class="sousmenucontenu" id="sousmenu_0" style="display:none" ></div><div class="sousmenucontenu" id="sousmenu_1" style="display:none" ><span class="sousmenuitem"><a href="../ressources/index.php%3Faction=affiche&amp;quoi=college%252Findex.html">Collège</a></span><span class="sousmenuitem"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=seconde/index">Seconde</a></span><span class="sousmenuitem"><a href="../ressources/index.php%3Faction=affiche&amp;quoi=grandoral%252Findex.html">Grand Oral</a></span></div><div class="sousmenucontenu" id="sousmenu_2" style="display:none" ><span class="sousmenuitem"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=mpsi/index">Math Sup</a></span><span class="sousmenuitem"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=mathspe/index">Math Spé</a></span><span class="sousmenuitem"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=capes/index">Capes</a></span><span class="sousmenuitem"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=agreginterne/index">Agreg interne</a></span><span class="sousmenuitem"><a href="../ressources/index.php%3Faction=affiche&amp;quoi=bts%252Findex.html">BTS</a></span></div><div class="sousmenucontenu" id="sousmenu_3" style="display:none" ><span class="sousmenuitem"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=bde/index">Bibliothèque d'exercices</a></span><span class="sousmenuitem"><a href="../pbs/index.php.html">Bibliothèque de problèmes</a></span><span class="sousmenuitem"><a href="../quizz/index.php.html">Automatismes</a></span></div><div class="sousmenucontenu" id="sousmenu_4" style="display:none" ><span class="sousmenuitem"><a href="../dico/index.php.html">Dictionnaire</a></span><span class="sousmenuitem"><a href="../bios/index.php.html">Biographies</a></span><span class="sousmenuitem"><a href="../formulaire/index.php.html">Formulaire</a></span><span class="sousmenuitem"><a href="../trans/index.php.html">Lexique français / anglais</a></span></div><div class="sousmenucontenu" id="sousmenu_5" style="display:flex" ><span class="sousmenuitem"><a href="../crypto/Analyse.class.html">Cryptographie et codes secrets</a></span><span class="sousmenuitem"><a href="../jeux/index.php.html">Jeux et énigmes</a></span><span class="sousmenuitemselectionne"><a href="index.php.html">Mathématiques au quotidien</a></span><span class="sousmenuitem"><a href="../dossiers/index.php.html">Dossiers</a></span></div><div class="sousmenucontenu" id="sousmenu_6" style="display:none" ></div><div class="sousmenucontenu" id="sousmenu_7" style="display:none" ></div><div class="sousmenucontenu" id="sousmenu_8" style="display:none" ></div></section></div></nav><nav id="menumobile"><div class="itemmenumobile"><a href="../index.php.html"><div class="teteitemmenumobile"><span>Accueil</span></a></div></div><div class="itemmenumobile"><a href="javascript:affiche_sousmenumobile(1);"><div class="teteitemmenumobile"><span>Lycée</span></a></div><div class="sousmenumobile" id="sousmenumobile1"><div class="sousitemmenumobile"><a href="../ressources/index.php%3Faction=affiche&amp;quoi=college%252Findex.html"><span>Collège</span></a></div><div class="sousitemmenumobile"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=seconde/index"><span>Seconde</span></a></div><div class="sousitemmenumobile"><a href="../ressources/index.php%3Faction=affiche&amp;quoi=grandoral%252Findex.html"><span>Grand Oral</span></a></div></div></div><div class="itemmenumobile"><a href="javascript:affiche_sousmenumobile(2);"><div class="teteitemmenumobile"><span>Supérieur</span><img src="../img/flechedroite.png" id="sousmenumobileimageferme2"  /><img src="../img/flechebas.png" id="sousmenumobileimageouvert2"  style="display:none;"/></a></div><div class="sousmenumobile" id="sousmenumobile2"><div class="sousitemmenumobile"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=mpsi/index"><span>Math Sup</span></a></div><div class="sousitemmenumobile"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=mathspe/index"><span>Math Spé</span></a></div><div class="sousitemmenumobile"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=capes/index"><span>Capes</span></a></div><div class="sousitemmenumobile"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=agreginterne/index"><span>Agreg interne</span></a></div><div class="sousitemmenumobile"><a href="../ressources/index.php%3Faction=affiche&amp;quoi=bts%252Findex.html"><span>BTS</span></a></div></div></div><div class="itemmenumobile"><a href="javascript:affiche_sousmenumobile(3);"><div class="teteitemmenumobile"><span>Bibliothèques</span><img src="../img/flechedroite.png" id="sousmenumobileimageferme3"  /><img src="../img/flechebas.png" id="sousmenumobileimageouvert3"  style="display:none;"/></a></div><div class="sousmenumobile" id="sousmenumobile3"><div class="sousitemmenumobile"><a href="https://www.bibmath.net/ressources/index.php?action=affiche&amp;quoi=bde/index"><span>Bibliothèque d'exercices</span></a></div><div class="sousitemmenumobile"><a href="../pbs/index.php.html"><span>Bibliothèque de problèmes</span></a></div><div class="sousitemmenumobile"><a href="../quizz/index.php.html"><span>Automatismes</span></a></div></div></div><div class="itemmenumobile"><a href="javascript:affiche_sousmenumobile(4);"><div class="teteitemmenumobile"><span>Références</span><img src="../img/flechedroite.png" id="sousmenumobileimageferme4"  /><img src="../img/flechebas.png" id="sousmenumobileimageouvert4"  style="display:none;"/></a></div><div class="sousmenumobile" id="sousmenumobile4"><div class="sousitemmenumobile"><a href="../dico/index.php.html"><span>Dictionnaire</span></a></div><div class="sousitemmenumobile"><a href="../bios/index.php.html"><span>Biographies</span></a></div><div class="sousitemmenumobile"><a href="../formulaire/index.php.html"><span>Formulaire</span></a></div><div class="sousitemmenumobile"><a href="../trans/index.php.html"><span>Lexique français / anglais</span></a></div></div></div><div class="itemmenumobileselectionne"><a href="javascript:affiche_sousmenumobile(5);"><div class="teteitemmenumobile"><span>Thèmes</span><img src="../img/flechedroite.png" id="sousmenumobileimageferme5"  /><img src="../img/flechebas.png" id="sousmenumobileimageouvert5"  style="display:none;"/></a></div><div class="sousmenumobile" id="sousmenumobile5"><div class="sousitemmenumobile"><a href="../crypto/Analyse.class.html"><span>Cryptographie et codes secrets</span></a></div><div class="sousitemmenumobile"><a href="../jeux/index.php.html"><span>Jeux et énigmes</span></a></div><div class="sousitemmenumobile"><a href="index.php.html"><span>Mathématiques au quotidien</span></a></div><div class="sousitemmenumobile"><a href="../dossiers/index.php.html"><span>Dossiers</span></a></div></div></div><div class="itemmenumobile"><a href="https://www.bibmath.net/forums/index.php"><div class="teteitemmenumobile"><span>Forum</span><img src="../img/flechedroite.png" id="sousmenumobileimageferme6"  /><img src="../img/flechebas.png" id="sousmenumobileimageouvert6"  style="display:none;"/></a></div></div><div class="itemmenumobile"><a href="../ressources/moncompte.php.html"><div class="teteitemmenumobile"><span>Mon compte</span></a></div></div><div class="itemmenumobile"><a href="https://fr.tipeee.com/bibmath"><div class="teteitemmenumobile"><span>Faire un don</span></a></div></div></nav></div><div id="main"><div id="maincentre"><div id="gauche"><div id="pubhaute"><div class="r89-desktop-leaderboard-atf"></div><div class="r89-mobile-billboard-top"></div></div><article id="contenugauche"><div class="chemin"><a href="index.php.html">Mathématiques au quotidien</a> &gt; <a href="index.php%3Faction=affiche&amp;quoi=aprendreoualaisser.html">A prendre ou à laisser! Trouver la stratégie optimale!</a> &gt; </div><h1>A prendre ou à laisser! Trouver la stratégie optimale!</h1><div>			<button class="boutonsvideo" onclick="showSpoiler(this);" ><span>Présentation et solution du problème en vidéo!</span></button>
			<div class="inner" style="display:none; padding-top:10px; padding-bottom:10px; justify-content:center; text-align:center; ">
<iframe width="560" height="315" src="https://www.youtube.com/embed/6FpQ0K4Dong?si=bQKr4sOCIpW9pFR0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div></div>
<div class=titrepartie>Contexte</div>
<p class=dtexte>Vous avez participé à un jeu télévisé et vous avez gagné!
Vient le moment du gain. Le présentateur arrive avec 24 enveloppes. Dans chaque
enveloppe, une somme d'argent, jamais la même et dont
vous n'avez aucune idée du montant. Le présentateur
va ouvrir l'une après l'autre chaque enveloppe dans un ordre complètement aléatoire.
Lorsqu'il ouvre une enveloppe, vous avez le choix de prendre la somme contenue,
ou de passer à l'enveloppe suivante. Ce choix est irréversible!
Si on garde la somme de l'enveloppe, on n'ouvre plus les enveloppes suivantes.
Si on décide de passer à l'enveloppe suivante, on ne peut plus revenir en arrière
et on ne pourra plus recevoir la somme contenue dans l'enveloppe rejetée.</p>
<p class=dtexte>Quelle est la meilleure stratégie pour essayer d'obtenir la
plus grande somme d'argent contenue dans les enveloppes? Et avec cette stratégie, quelle est la probabilité
de recevoir cette plus grande somme d'argent?</p>
<p class=dtexte>On pourrait imaginer que si le nombre d'enveloppes devient très grand,
alors la probabilité de gagner la plus grosse somme d'argent devient très petite.
Il n'en est rien! Il existe une stratégie optimale qui permet d'avoir plus d'une chance
sur trois de remporter le plus gros gain, et ceci quelque soit le nombre d'enveloppes!</p>
<p class=dtexte>Cette stratégie est la suivante : on commence par rejeter une certaine proportion des
enveloppes. Cette proportion dépend du nombre $n$ d'enveloppes, mais pour $n$ grand, elle vaut à peu
près $37\%$ (plus précisément, $1/e$). Ensuite, on choisit la première enveloppe
qui contient un montant supérieur au montant des enveloppes précédentes. 
Et dans ce cas, la probabilité de gagner le plus gros gain est d'environ...$37\%$
(plus précisément, $1/e$).</p>
<p class=dtexte>&Eacute;tonnant, non? Mathématique!</p>

<div class=titrepartie>Avec 4 enveloppes</div>
<p class=dtexte>&Eacute;tudions plus précisément le problème avec 4 enveloppes. On suppose donc que
le présentateur a mélangé les 4 enveloppes complètement aléatoirement 
et qu'elles sont numérotées de 1 à 4. Il va ouvrir successivement les enveloppes de la numéro 1 à la numéro 4
jusqu'à ce qu'on l'arrête. Comparons 4 stratégies!</p>
<p class=ntexte><b>Stratégie 1 :</b> on choisit toujours la première enveloppe.
Comme il y a une chance sur quatre que la plus grande somme d'argent 
soit dans cette enveloppe, il y a une probabilité égale à $1/4$ qu'avec cette stratégie,
on gagne le plus gros gain possible.</p>
<p class=ntexte><b>Stratégie 2 :</b> on rejette la première enveloppe puis dans les enveloppes
qui suivent, on choisit la première enveloppe qui contient
 une somme d'argent supérieure à celle de la première. On doit alors distinguer 4 cas : </p>
 <div class=dliste>
 <uL>
 <li>la plus grande somme d'argent est dans la première enveloppe. Comme on la rejette, on a perdu! La probabilité
 d'obtenir le gain maximal dans ce cas est égale à $0.$
 <li>la plus grande somme d'argent est dans la deuxième enveloppe. Ainsi, la somme contenue dans cette enveloppe
 est supérieure à la somme contenue dans la première, donc on va garder l'enveloppe et obtenir le gain maximal.
 La probabilité d'obtenir le gain maximal dans ce cas est donc égale à $1.$
 <li>la plus grande somme d'argent est dans la troisième enveloppe. 
 <div class=equation><img src="images/aprendrealaisser1.png" width=350px></div>
 Dans ce cas, on gagne la somme maximale si on ouvre cette troisième enveloppe, donc si la somme
 contenue dans la deuxième enveloppe est inférieure à la somme contenue dans la première. Comme les éventualités
 sont équiprobables, ceci arrive avec une probabilité égale à $1/2$.
 <li>la plus grande somme d'argent est dans la quatrième enveloppe. 
 <div class=equation><img src="images/aprendrealaisser2.png" width=350px></div>
 Dans ce cas, on gagne la somme maximale si on ouvre cette quatrième enveloppe, donc si la somme
 contenue dans la deuxième enveloppe et la somme contenue dans la troisième enveloppe
 sont inférieures à la somme contenue dans la première. Comme les éventualités
 sont équiprobables, ceci arrive avec une probabilité égale à $1/3$.
 </ul>
</div>
<p class=dtexte>Pour calculer la probabilité d'obtenir le gain maximal avec cette stratégie, on va utiliser
la formule des probabilités totales. On note GM l'événement "obtenir le gain maximal". On a pour le moment calculé
les probabilités conditionnelles : 
$P(\textrm{GM}|\textrm{Cas 1}) = 0$, $P(\textrm{GM}|\textrm{Cas 2})= 1$, $P(\textrm{GM}|\textrm{Cas 3})= 1/2$,
$P(\textrm{GM}|\textrm{Cas 4}) = 1/3$. 
Remarquons aussi que les différents choix de l'ordre des enveloppes sont équiprobables, et donc on a 
$$P(\textrm{Cas 1})=P(\textrm{Cas 2})=P(\textrm{Cas 3})=P(\textrm{Cas 4})=\frac 14.$$
Par la formule des probabilités totales, 
\begin{eqnarray*}
P(\textrm{GM})&=&P(\textrm{GM}|\textrm{Cas 1}) P(\textrm{Cas 1})+P(\textrm{GM}|\textrm{Cas 2})P(\textrm{Cas 2}) +\\
&&\quad P(\textrm{GM}|\textrm{Cas 3}) P(\textrm{Cas 3})+P(\textrm{GM}|\textrm{Cas 4}) P(\textrm{Cas 4})\\
&=&0\times \frac 14+1\times\frac 14+\frac 12\times\frac 14+\frac 13\times\frac 14\\ 
&=&\frac 14\left(1+\frac 12+\frac 13\right)\\ 
&\simeq & 0,\!46.
\end{eqnarray*}
C'est beaucoup mieux!

<p class=ntexte><b>Stratégie 3 :</b> on rejette les deux premières enveloppes puis on choisit la première enveloppe qui suit
et qui contient  une somme d'argent supérieure à celle des précédentes. Alors :
<div class=dliste>
<ul>
<li>si la somme maximale est contenue dans une des deux premières enveloppes, alors on a perdu!
On obtient donc le gain maximal avec une probabilité égale à $0.$
<li>si la somme maximale est contenue dans la troisième enveloppe, alors on a gagné!
On obtient donc le gain maximal avec une probabilité égale à $1.$
<li>si la somme maximale est contenue dans la quatrième enveloppe, alors on a gagné
si la troisième enveloppe contient une somme inférieure à l'une des deux premières enveloppes.
Ceci arrive avec une probabilité de $2/3$.
</ul>
</div>
<p class=dtexte>Finalement, avec cette stratégie, on trouve\begin{eqnarray*}
P(GM)&=&\frac 14\times 1+\frac 14\times \frac23\\ 
&=&\frac{1}4\left(1+\frac 23\right)\\
%&=&\frac{2}4\left(\frac 12+\frac 13\right) \\ 
&\simeq&0,\!42.
\end{eqnarray*}
C'est légèrement moins bien!
</p>

<p class=ntexte><b>Stratégie 4 :</b> on rejette les trois premières enveloppes et on choisit toujours la quatrième.
Dans ce cas, la probabilité de gagner est toujours égale à $1/4$. </p>
<p class=dtexte>Finalement, c'est la stratégie 2 qui est la meilleure, et avec une différence qui est notable!</p>

<div class=titrepartie>Avec $n$ enveloppes</div>
<p class=dtexte>Supposons maintenant qu'on cherche une stratégie pour $n$ enveloppes.
Fixons $k$ un entier dans $\{1,\dots,n\}$. On considère la stratégie suivante : 
on observe le contenu des $k$ premières enveloppes sans rien décider puis on choisit la première enveloppe 
qui contient une somme supérieure à celle des enveloppes précédentes. 
On note $p_{n,k}$ la probabilité d'obtenir le gain maximal pour cette stratégie.</p>
<p class=dtexte>On peut calculer $p_{n,k}$ avec le même raisonnement que précédemment. Si la meilleure enveloppe
est la $j$-ème enveloppe, alors :</p>
<div class=dliste>
<ul>
<li>si $j\leq k$, on a perdu.
<li> si $j>k,$ on gagne lorsque dans les enveloppes de $1$ à $j-1,$ la plus grande somme d'argent est dans les $k$ premières.
Ceci signifie qu'on va également rejeter les enveloppes de $k+1$ à $j-1,$ et qu'on va ouvrir et choisir l'enveloppe
$j$ qui contient la plus grande somme d'argent.
On gagne donc avec une probabilité $\displaystyle \frac{k}{j-1}.$
</ul>
</div>
<p class=ntexte>Finalement, en appliquant la formule des probabilités totales, on trouve que 
\begin{eqnarray*}
p_{n,k}&=&\frac1n\times0+\cdots+\frac 1n\times 0+\frac 1n\times \frac kk+\frac 1n\times \frac k{k+1}+\cdots+\frac 1n\times \frac{k}{n-1}\\ 
&=&\frac kn\left(\frac 1k+\frac 1{k+1}+\cdots+\frac 1{n-1}\right).
\end{eqnarray*}
</p>

<div class="r89-outstream-video"></div><div class=titrepartie>Déterminer la meilleure stratégie avec Python!</div>
<p class=dtexte>On s'intéresse maintenant à la valeur de $k$ optimale. Pour une valeur de $n$ fixée,
on peut programmer un algorithme sous Python pour déterminer cette valeur optimale. 
La fonction $\verb+probabilite(n,k)+$ suivante renvoie la valeur de $p_{n,k}$ tandis que 
$\verb+strategie(n)+$ renvoie pour une valeur de $n$ fixée la valeur de $k$ optimale,
ainsi que la probabilité $p_{n,k}$ correspondante.</p>

<iframe src="https://trinket.io/embed/python/3fe0abd45e?runOption=console&start=result&runMode=console" width="100%" height="600" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>

<p class=dtexte>Essayez dans la console $\verb+probabilite(4,1)+$ puis $\verb+strategie(4)+$
pour vérifier qu'on obtient bien les résultats démontrés auparavant. Essayez ensuite $\verb+strategie(10)+$
puis $\verb+strategie(100)+$, puis encore avec d'autres valeurs. Il devrait être apparent que quand $n$ devient grand,
la valeur optimale de $k$ est telle que $k/n\simeq 0,\!368$ et est associée à une probabilité d'environ $0,\!368$.</p>



<div class=titrepartie>D'où vient ce 37%?</div>
<p class=dtexte>C'est bien de constater, mais maintenant, ce serait beaucoup mieux de prouver cette règle des
$37\%$. Pour cela, on a besoin d'un peu plus de maths! On repart de la formule 
$$p_{n,k}=\frac kn\left(\frac 1k+\frac 1{k+1}+\cdots+\frac 1{n-1}\right)$$
et on cherche pour quelle proportion $k/n$ la valeur de $p_{k,n}$ est la plus grande possible. </p>
<p class=dtexte>L'idée est de voir dans la somme précédente une somme d'aires de rectangles. Pour cela, 
écrivons $\frac 1k$ sous la forme 
$$\frac 1k=\frac{1}{n}\times \frac{n}k=\frac{1}n\times\frac{1}{\frac kn}.$$
Ainsi, $1/k$ est l'aire du rectangle suivant, construit à partir de la courbe $y=1/t$ :</p>
<div class=equation><img src="images/aprendrealaisser3.png" width=442px></div>
<p class=ntexte>
On peut faire pareil avec $\frac 1{k+1}$ en l'écrivant 
$$\frac1{k+1}=\frac 1n\times\frac{n}{k+1}=\frac 1n\times\frac1{\frac{k+1}n}.$$
On trouve alors l'aire d'un deuxième rectangle : </p>
<div class=equation><img src="images/aprendrealaisser4.png" width=442px></div>
<p class=dtexte>En continuant ainsi, on trouve l'aire de $n-k$ rectangles construits 
à partir de la courbe $y=1/t,$ entre l'abscisse $k/n$ et l'abscisse 1.</p>
<div class=equation><img src="images/aprendrealaisser5.png" width=442px></div>
<p class=dtexte>Que se produit-t-il maintenant si on augmente $n$ tout en maintenant 
fixe la proportion $k/n$ d'enveloppes que l'on laisse passer? L'animation Geogebra suivante où on peut changer
la valeur de $n$ et où $k/n$ reste fixé à $0,\!4$ permet de le simuler.</p>
<div class=equation>
<iframe scrolling="no" title="Problème des secrétaires" src="https://www.geogebra.org/material/iframe/id/t7epbjmh/width/650/height/411/border/888888/sfsb/true/smb/false/stb/false/stbh/false/ai/false/asb/false/sri/true/rc/false/ld/false/sdz/true/ctl/false" width="600px" height="379px" style="border:0px;"> </iframe>
</div>
<p class=dtexte>Comme on le constate, la somme des aires des rectangles approche de plus en plus l'aire sous la courbe 
$y=1/t$, entre les droites $t=k/n$ et $t=1.$  Mais ceci n'est rien d'autre que l'intégrale de $1/t$ entre $k/n$ et $1$.
Ainsi, si on pose $x=k/n,$ alors on a 
$$\lim_{n\to+\infty} \left(\frac 1k+\frac 1{k+1}+\cdots+\frac 1{n-1}\right)=\int_x^1 \frac{dt}t.$$
Ceci peut se démontrer rigoureusement par le théorème dit des sommes de Riemann.</p>
<p class=dtexte>L'intégrale qu'on a obtenue se calcule et vaut 
$$\int_x^1 \frac{dt}t=\ln(1)-\ln(x)=-\ln(x),$$
et finalement, en n'oubliant pas de multiplier par $\frac kn,$ on trouve que, 
si $k/n=x$ est fixé et si $n$ tend vers $+\infty,$ alors
$$p_{n,k}\to -x\ln(x).$$
La valeur optimale de la proportion, pour de grandes valeurs de $n,$ sera donnée par
le maximum de la fonction $f$ définie sur $]0,1]$ par $f(x)=-x\ln(x),$ dont la courbe représentative
est la suivante : 
<div class=equation><img src="images/aprendrealaisser6.png" width=239px></div>
<p class=dtexte>On étudie cette fonction, dérivable sur $]0,1]$, et qui vérifie pour $x\in]0,1],$
$$f'(x)=-\ln(x)-1.$$
On étudie son signe et on trouve
$$f'(x)\geq 0\iff -\ln(x)-1\geq 0 \iff \ln(x)\leq -1\iff x\leq \exp(-1)=1/e.$$
$f$ est donc croissante sur $]0,1/e]$, décroissante sur $[1/e,1]$ et 
$$f(1/e)=-\frac 1e\ln\left(\frac 1e\right)=\frac 1e\simeq 0,\!368.$$
Ainsi, $f$ atteint son maximum en $1/e$ et ce maximum vaut $f(1/e)=1/e$.</p>

<p class=ntexte><b>Conclusion : </b>
Quand $n$ est grand, il faut laisser passer une proportion $\simeq 1/e\simeq 0,\!368$ d'enveloppes. On gagnera la somme maximale avec une probabilité $\simeq 1/e\simeq 0,\!368$.
</p>



</article></div><aside id="droite"><div class="contenudroite"><h1>
	Discussions des forums</h1><li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18115&amp;action=new" title="Joyeux anniversaire Vassillia">Joyeux anniversaire Vassillia</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18111&amp;action=new" title="Collatz - Besoin d&#039;explications">Collatz - Besoin d&#039;explic …</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=17413&amp;action=new" title="Ni équerre, ni compas. Règle non graduée et crayon.">Ni équerre, ni compas. Rè …</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18011&amp;action=new" title="Entreaide CAPES 2026">Entreaide CAPES 2026</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18114&amp;action=new" title="Series entières et fonctions testes">Series entières et foncti …</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18092&amp;action=new" title="Je ne sais pas comment apprendre  les maths">Je ne sais pas comment ap …</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18104&amp;action=new" title="L’Année 1978 et sa particularité">L’Année 1978 et sa partic …</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18110&amp;action=new" title="Images mathématiques (CNRS)">Images mathématiques (CNRS)</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18108&amp;action=new" title="$56$ divise $n$">$56$ divise $n$</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18048&amp;action=new" title="Algébre">Algébre</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18109&amp;action=new" title="Téléchargement">Téléchargement</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=17912&amp;action=new" title="Licence maths L1">Licence maths L1</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=17824&amp;action=new" title="Automate de Collatz">Automate de Collatz</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18106&amp;action=new" title="Equation $x^2 + y^2 = 3(z^2 + u^2).$">Equation $x^2 + y^2 = 3(z …</a></li>
<li><a href="https://www.bibmath.net/forums/viewtopic.php?id=18103&amp;action=new" title="Propriété du Roi utile ?">Propriété du Roi utile ?</a></li>
<div class=bascontenu><a href="../forums.html">Accéder aux forums</a></div>  </div><div id=pubdroite><div class="r89-desktop-hpa-atf"></div><div class="contenudroite"><h1>Mathématicien du mois</h1><div align=center><img src="../bios/images/lipschitz.jpg" class=imgcontenu></div><div align=center><a href="../bios/index.php%3Faction=affiche&amp;quoi=lipschitz.html">Rudolf Lipschitz (1832-1903)</a></div><div class=bascontenu><a href="../bios/index.php.html">Toutes les biographies</a></div></div></div></aside></div></div><footer class="footer"><div class="footer-lists"><ul class="footer-list"><li class="footer-list-title">Communiquer</li><li class="footer-list-item"><a href="../contact.php%3Forigine=erreur.html">Signaler une erreur</a></li><li class="footer-list-item"><a href="../contact.php%3Forigine=contribuer.html">Contribuer</a></li><li class="footer-list-item"><a href="../contact.php%3Forigine=contact.html">Nous contacter</a></li></ul><ul class="footer-list"><li class="footer-list-title">Le site</li><li class="footer-list-item"><a href="../soutenir.php.html">Soutenir Bibm@th</a></li><li class="footer-list-item"><a href="../historique.php.html">Historique</a></li></ul><ul class="footer-list"><li class="footer-list-title">Légal</li><li class="footer-list-item"><a href="../credits.php.html">Mentions légales</a></li><li class="footer-list-item"><a href="index.php%3Fcmpscreen.html">Confidentialité</a></li></ul><ul class="footer-list"><li class="footer-list-title">Nos réseaux</li><li class="footer-list-item"><a href="https://www.youtube.com/channel/UCP-LXgvAe7CMdf_dddUcLmw">Youtube</a></li><li class="footer-list-item"><a href="https://www.instagram.com/bibmath/">Instagram</a></li></ul></div></footer>
<script>
var acc = document.getElementsByClassName("titrecours");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("activecours");

    /* Toggle between hiding and showing the active panel */
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }
  });
}
</script>

</body><script type="text/javascript" src="../common/scrolling.js"></script><script type="text/javascript" src="../common/alertbox.min.js"></script><script type="text/javascript" src="../common/themehandler.js"></script></html>